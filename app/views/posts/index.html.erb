<section>
  <div class="form-group" style="width: 300px;">
    <%= form_tag(posts_path, method: :get) do %> <%= label_tag(:category_name,
    "Filter by category") %> <%= select_tag "category_name",
    options_from_collection_for_select(@categories, "name", "name",
    params[:category_name]) %> <%= button_tag(type: "submit", class: "btn
    btn-light") do %>
    <svg
      class="bi bi-search"
      width="1em"
      height="1em"
      viewBox="0 0 16 16"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill-rule="evenodd"
        d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"
      />
      <path
        fill-rule="evenodd"
        d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"
      />
    </svg>
    <% end %> <% end %>
  </div>

  <div style="display: flex; justify-content: center;">
    <%= will_paginate @posts, page_links: false, previous_label: "PREVIOUS",
    next_label: "NEXT", renderer:
    WillPaginate::ActionView::BootstrapLinkRenderer %>
  </div>

  <% @posts.each do |post| %>
  <div class="card" style="margin: 7px 0 7px 0;">
    <div class="card-body">
      <% if current_user === post.user %>
      <div
        class="btn-group float-right"
        role="group"
        aria-label="control-buttons"
      >
        <%= link_to 'Edit', edit_post_path(post), class: "btn btn-info btn-sm"
        %> <%= link_to 'Remove', post, method: :delete, data: { confirm: 'Are
        you sure?' }, class: "btn btn-danger btn-sm" %>
      </div>
      <% end %>

      <div style="font-size: 0.9rem;">
        <%= @categories.find(post.category_id).name %>
      </div>

      <h4 class="card-title" style="margin-top: 5px;">
        <%= link_to post.job_title, post %>
      </h4>

      <h5 class="card-text" style="font-size: 0.9rem; margin-top: 20px;">
        <svg
          class="bi bi-building"
          width="1em"
          height="1em"
          viewBox="0 0 16 16"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M15.285.089A.5.5 0 0 1 15.5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5H1a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .418-.493l5.582-.93V3.5a.5.5 0 0 1 .324-.468l8-3a.5.5 0 0 1 .46.057zM7.5 3.846V8.5a.5.5 0 0 1-.418.493l-5.582.93V15h8v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.222l-7 2.624z"
          />
          <path fill-rule="evenodd" d="M6.5 15.5v-7h1v7h-1z" />
          <path
            d="M2.5 11h1v1h-1v-1zm2 0h1v1h-1v-1zm-2 2h1v1h-1v-1zm2 0h1v1h-1v-1zm6-10h1v1h-1V3zm2 0h1v1h-1V3zm-4 2h1v1h-1V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm-2 2h1v1h-1V7zm2 0h1v1h-1V7zm-4 0h1v1h-1V7zm0 2h1v1h-1V9zm2 0h1v1h-1V9zm2 0h1v1h-1V9zm-4 2h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"
          />
        </svg>

        <%= post.company_name %>
      </h5>
      <h6>
        <svg
          class="bi bi-geo"
          width="1em"
          height="1em"
          viewBox="0 0 16 16"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M11 4a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
          <path d="M7.5 4h1v9a.5.5 0 0 1-1 0V4z" />
          <path
            fill-rule="evenodd"
            d="M6.489 12.095a.5.5 0 0 1-.383.594c-.565.123-1.003.292-1.286.472-.302.192-.32.321-.32.339 0 .013.005.085.146.21.14.124.372.26.701.382.655.246 1.593.408 2.653.408s1.998-.162 2.653-.408c.329-.123.56-.258.701-.382.14-.125.146-.197.146-.21 0-.018-.018-.147-.32-.339-.283-.18-.721-.35-1.286-.472a.5.5 0 1 1 .212-.977c.63.137 1.193.34 1.61.606.4.253.784.645.784 1.182 0 .402-.219.724-.483.958-.264.235-.618.423-1.013.57-.793.298-1.855.472-3.004.472s-2.21-.174-3.004-.471c-.395-.148-.749-.336-1.013-.571-.264-.234-.483-.556-.483-.958 0-.537.384-.929.783-1.182.418-.266.98-.47 1.611-.606a.5.5 0 0 1 .595.383z"
          />
        </svg>
        <%= post.location %>
      </h6>

      <div style="margin-top: 15px;">
        <svg
          class="bi bi-calendar3"
          width="1em"
          height="1em"
          viewBox="0 0 16 16"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z"
          />
          <path
            fill-rule="evenodd"
            d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"
          />
        </svg>
        <small>
          <% if post.start_date.present? %> <% if post.end_date.present? %> <%=
          post.start_date %> - <%= post.end_date %> <% else %> <%=
          post.start_date %> - not specified <% end %> <% else %> not specified
          <% end %>
        </small>
      </div>

      <div>
        <small><%= time_ago_in_words(post.created_at) %> ago</small>
      </div>
    </div>
  </div>
  <% end %>

  <div style="display: flex; justify-content: center;">
    <%= will_paginate @posts, page_links: false, previous_label: "PREVIOUS",
    next_label: "NEXT", renderer:
    WillPaginate::ActionView::BootstrapLinkRenderer %>
  </div>
</section>
